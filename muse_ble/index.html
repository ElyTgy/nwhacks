<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MuseJS Test</title>
    <script src="Muse.js"></script>
</head>
<body>
    <h1>MuseJS Test</h1>
    <button id="connectBtn">Connect to Muse</button>
    <p id="status">Status: Not connected</p>
    <pre id="output"></pre>

    <script>
        document.getElementById("connectBtn").addEventListener("click", async () => {
            try {
                const muse = new Muse();
                document.getElementById("status").textContent = "Status: Connecting...";
                
                await muse.connect();
                document.getElementById("status").textContent = "Status: Connected";

                console.log("Muse connected!");

                console.log(muse.eeg[0]);
                
                //function logData() {
                    //let output = document.getElementById("output");
                    //output.textContent = ""; // Clear previous logs
                    
                    /*
                    for (let i = 0; i < 5; i++) {
                        output.textContent += `EEG[${i}]: ${muse.eeg[i].read()}\n`;
                        console.log(muse.eeg[i]);
                    }

                    for (let i = 0; i < 3; i++) {
                        output.textContent += `PPG[${i}]: ${muse.ppg[i].read()}\n`;
                    }

                    for (let i = 0; i < 3; i++) {
                        output.textContent += `Accelerometer[${i}]: ${muse.accelerometer[i].read()}\n`;
                    }

                    for (let i = 0; i < 3; i++) {
                        output.textContent += `Gyroscope[${i}]: ${muse.gyroscope[i].read()}\n`;
                    }

                    output.textContent += `Battery Level: ${muse.batteryLevel}%\n`;
                    output.textContent += `Firmware Rev: ${muse.info["fw"]}\n`;*/
                //}

                // Log data every second
                setInterval(logData, 1000);

            } catch (error) {
                document.getElementById("status").textContent = "Status: Connection failed";
                console.error("Error connecting to Muse:", error);
            }
        });
    </script>
</body>
</html>
